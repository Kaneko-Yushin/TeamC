<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ホーム - デジタル介護日誌</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f3f7f5; font-family: "Hiragino Kaku Gothic ProN","Meiryo",sans-serif; }
    .hero { background:#3b8f63; color:#fff; padding:18px 24px; }
    .grid { display:grid; gap:24px; grid-template-columns: repeat(4, minmax(220px,1fr)); margin-top:32px; }
    .card-btn { background:#fff; border:0; border-radius:18px; padding:26px; box-shadow:0 8px 24px rgba(0,0,0,.06); transition:.15s; }
    .card-btn:hover { transform: translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.08); }
    .big { font-size:48px; }
    @media (max-width: 1100px){ .grid{grid-template-columns: repeat(2,1fr);} }
    @media (max-width: 600px){ .grid{grid-template-columns: 1fr;} }
  </style>
</head>
<body>
  <div class="hero d-flex justify-content-between align-items-center">
    <div class="fw-bold">デジタル介護日誌</div>
    <div>
      {% if staff_name %}
        <span class="me-3">{{ staff_name }}（{{ staff_role or "スタッフ" }}）</span>
        <a class="btn btn-sm btn-light" href="{{ url_for('logout') }}">ログアウト</a>
      {% else %}
        <a class="btn btn-sm btn-light" href="{{ url_for('staff_login') }}">ログイン</a>
      {% endif %}
    </div>
  </div>

  <div class="container py-4">
    <h2 class="text-center mb-4">メインメニュー</h2>

    <div class="grid">
      <a class="card-btn text-center text-decoration-none" href="{{ url_for('users_page') }}">
        <div class="big">👥</div>
        <h5 class="mt-2 mb-1">利用者一覧</h5>
        <div class="text-muted">登録されている利用者を確認</div>
      </a>

      <a class="card-btn text-center text-decoration-none" href="{{ url_for('add_record') }}">
        <div class="big">📝</div>
        <h5 class="mt-2 mb-1">記録入力</h5>
        <div class="text-muted">食事・服薬・排泄・体調など</div>
      </a>

      <a class="card-btn text-center text-decoration-none" href="{{ url_for('records') }}">
        <div class="big">📘</div>
        <h5 class="mt-2 mb-1">記録一覧</h5>
        <div class="text-muted">これまでの記録を閲覧</div>
      </a>

      <a class="card-btn text-center text-decoration-none {% if staff_role!='管理者' %}disabled opacity-50{% endif %}"
         href="{{ url_for('add_user') }}">
        <div class="big">➕</div>
        <h5 class="mt-2 mb-1">利用者登録</h5>
        <div class="text-muted">管理者のみ</div>
      </a>

      <!-- 横並びで「設定」と「引継ぎ」を並べる -->
      <a class="card-btn text-center text-decoration-none" href="{{ url_for('staff_list') }}">
        <div class="big">⚙️</div>
        <h5 class="mt-2 mb-1">設定</h5>
        <div class="text-muted">スタッフ・QR発行など</div>
      </a>

      <a class="card-btn text-center text-decoration-none" href="{{ url_for('handover') }}">
        <div class="big">🗂️</div>
        <h5 class="mt-2 mb-1">引継ぎボード</h5>
        <div class="text-muted">当日の申し送り・シフト別</div>
      </a>
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-info mt-4">
          {% for m in messages %}{{ m }}<br>{% endfor %}
        </div>
      {% endif %}
    {% endwith %}
  </div>
</body>
</html>

