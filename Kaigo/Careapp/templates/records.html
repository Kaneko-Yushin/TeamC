{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">記録一覧</h3>
  <div class="d-flex gap-2">
    <a class="btn btn-primary" href="{{ url_for('add_record') }}">＋ 記録追加</a>
    <a class="btn btn-outline-success" href="{{ url_for('export_records_csv') }}">CSV</a>
    {% if pg and pg.prev_page %}<a class="btn btn-outline-secondary" href="{{ url_for('records', page=pg.prev_page, per_page=pg.per_page) }}">← 前</a>{% endif %}
    {% if pg and pg.next_page %}<a class="btn btn-outline-secondary" href="{{ url_for('records', page=pg.next_page, per_page=pg.per_page) }}">次 →</a>{% endif %}
  </div>
</div>
<div class="table-responsive">
  <table class="table table-striped align-middle">
    <thead class="table-success">
      <tr><th>ID</th><th>利用者</th><th>食事</th><th>服薬</th><th>排泄</th><th>体調</th><th>メモ</th><th>記入者</th><th>作成</th></tr>
    </thead>
    <tbody>
      {% for r in rows %}
      <tr>
        <td>{{ r.id }}</td><td>{{ r.user_name }}</td><td>{{ r.meal }}</td><td>{{ r.medication }}</td>
        <td>{{ r.toilet }}</td><td>{{ r.condition }}</td><td>{{ r.memo }}</td>
        <td>{{ r.staff_name }}</td><td>{{ r.created_at }}</td>
      </tr>
      {% else %}
      <tr><td colspan="9" class="text-center text-muted py-3">まだ記録がありません。</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="text-center mt-3"><a class="btn btn-outline-secondary" href="{{ url_for('home') }}">← ホームに戻る</a></div>
{% endblock %}
