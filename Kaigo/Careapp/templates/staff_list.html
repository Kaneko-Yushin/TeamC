<<<<<<< HEAD
{% extends "base.html" %}
{% block body %}
<div class="card p-3">
  <h5 class="mb-3">{{ _('ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§') }}</h5>
  <table class="table table-striped align-middle">
    <thead>
      <tr>
        <th>ID</th><th>{{ _('ã‚¹ã‚¿ãƒƒãƒ•') }}</th><th>Role</th><th>QR</th><th>Op</th>
=======
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
<<<<<<< HEAD
  <title>ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§ - ç®¡ç†</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>ğŸ‘©â€ğŸ’¼ ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§</h3>
    <div>
      <a class="btn btn-success" href="{{ url_for('staff_admin.add') }}">ï¼‹ æ–°è¦ã‚¹ã‚¿ãƒƒãƒ•</a>
      <a class="btn btn-outline-secondary" href="{{ url_for('admin_page') }}">â† ç®¡ç†ãƒšãƒ¼ã‚¸</a>
    </div>
  </div>

  <table class="table table-hover bg-white align-middle">
    <thead>
      <tr>
        <th style="width:80px;">ID</th>
        <th>åå‰</th>
        <th style="width:140px;">å½¹å‰²</th>
        <th style="width:220px;">QR/æ¨©é™/Pass</th>
        <th style="width:180px;">æ“ä½œ</th>
>>>>>>> main
      </tr>
    </thead>
    <tbody>
      {% for s in staff_list %}
      <tr>
        <td>{{ s[0] }}</td>
        <td>{{ s[1] }}</td>
<<<<<<< HEAD
        <td>{% if s[3]=='admin' %}{{ _('ç®¡ç†è€…') }}{% else %}{{ _('ã‚¹ã‚¿ãƒƒãƒ•') }}{% endif %}</td>
        <td>
          {% if s[4] %}
            <a href="{{ url_for('login_by_qr', token=s[4]) }}" target="_blank">ğŸ”— {{ _('QRãƒªãƒ³ã‚¯') }}</a>
            <img src="{{ url_for('qr_png', token=s[4]) }}" alt="qr" style="height:40px" class="ms-2">
          {% else %}
            <span class="text-muted">{{ _('æœªç™ºè¡Œ') }}</span>
          {% endif %}
        </td>
        <td>
          <a class="btn btn-sm btn-danger" href="{{ url_for('delete_staff', sid=s[0]) }}"
             onclick="return confirm('{{ _('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ') }}')">{{ _('å‰Šé™¤') }}</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <a class="btn btn-outline-success" href="{{ url_for('generate_qr') }}">{{ _('QRç™ºè¡Œ') }}</a>
  <a class="btn btn-outline-secondary ms-2" href="{{ url_for('admin_page') }}">{{ _('æˆ»ã‚‹') }}</a>
</div>
{% endblock %}
=======
        <td><span class="badge bg-info-subtle text-dark">{{ s[3] or 'caregiver' }}</span></td>
        <td class="text-nowrap">
          <a class="btn btn-sm btn-outline-success" href="{{ url_for('staff_admin.qr', sid=s[0]) }}">QRå†ç™ºè¡Œ</a>

          <form class="d-inline" method="post" action="{{ url_for('staff_admin.change_role', sid=s[0]) }}">
            <select name="role" class="form-select d-inline w-auto">
              {% for r in ["admin","caregiver","nurse","carer"] %}
                <option value="{{ r }}" {% if (s[3] or 'caregiver')==r %}selected{% endif %}>{{ r }}</option>
              {% endfor %}
            </select>
            <button class="btn btn-sm btn-outline-primary">å¤‰æ›´</button>
          </form>

          <form class="d-inline" method="post" action="{{ url_for('staff_admin.reset_password', sid=s[0]) }}"
                onsubmit="return confirm('ä»®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ');">
            <button class="btn btn-sm btn-outline-warning">PWå†ç™ºè¡Œ</button>
          </form>
        </td>
        <td class="text-nowrap">
          <a class="btn btn-sm btn-outline-primary" href="{{ url_for('staff_admin.edit', sid=s[0]) }}">ç·¨é›†</a>
          <form class="d-inline" method="post" action="{{ url_for('staff_admin.delete', sid=s[0]) }}"
                onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
            <button class="btn btn-sm btn-outline-danger">å‰Šé™¤</button>
          </form>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="5" class="text-center text-muted">ã¾ã ç™»éŒ²ãŒã‚ã‚Šã¾ã›ã‚“</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
=======
  <title>ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§ - ãƒ‡ã‚¸ã‚¿ãƒ«ä»‹è­·æ—¥èªŒ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f5f8f6; }
    .header { background:#4C9F70; color:white; text-align:center; padding:1.2rem; }
    table { background: white; border-radius: .75rem; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,.08); }
    th { background:#e9f5ee; color:#4C9F70; }
  </style>
</head>
<body>
  <div class="header">
    <h2>ğŸ‘©â€ğŸ’¼ ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§</h2>
    <p class="mb-0">ç™»éŒ²æ¸ˆã¿ã‚¹ã‚¿ãƒƒãƒ•ã®ç¢ºèªã¨ç®¡ç†</p>
  </div>

  <div class="container mt-4">
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th>ID</th><th>åå‰</th><th>å½¹è·</th><th>QRãƒ­ã‚°ã‚¤ãƒ³</th><th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody>
        {% for s in staff_list %}
        <tr>
          <td>{{ s[0] }}</td>
          <td>{{ s[1] }}</td>
          <td>{{ s[3] or "ã‚¹ã‚¿ãƒƒãƒ•" }}</td>
          <td>
            {% if s[4] %}
              <a href="{{ url_for('login', token=s[4]) }}" target="_blank">ğŸ”— QRãƒªãƒ³ã‚¯</a>
            {% else %}
              <span class="text-muted">æœªç™ºè¡Œ</span>
            {% endif %}
          </td>
          <td>
            <a class="btn btn-sm btn-success" href="{{ url_for('qr_reissue', name=s[1]) }}">QRå†ç™ºè¡Œ</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="d-flex gap-2">
      <a href="{{ url_for('generate_qr') }}" class="btn btn-primary">æ–°è¦QRç™ºè¡Œ</a>
      <a href="{{ url_for('home') }}" class="btn btn-outline-secondary">â† ãƒ›ãƒ¼ãƒ ã¸</a>
    </div>
  </div>
>>>>>>> 95e3dc54c9054d15c7b23eda68752a4070758130
</body>
</html>


<<<<<<< HEAD

=======
>>>>>>> 95e3dc54c9054d15c7b23eda68752a4070758130
>>>>>>> main
